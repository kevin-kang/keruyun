define(["js/module/util","js/module/validation/additional-methods"],function(e){function r(){h.resetForm(),$.each(l.find("input, select"),function(){"checkbox"==$(this).attr("type")&&$(this).prop("checked",!1),("text"==$(this).attr("type")||"password"==$(this).attr("type"))&&$(this).val(""),$(this).is("select")&&$(this).val($(this).find("option:first").val()).change()})}function t(){var e=$(this),r=e.siblings("input"),t=e.find("option:selected").text();r.val(t)}function i(){d.hide(),s.hide(),r()}function n(){var e=a.height(),r=d.height();$(".apply-info").css({top:(e-r)/2/e*100+"%"})}function o(){$(".mask-layer").show(),$(".apply-info").show()}var a=($(document),$(window)),s=$(".mask-layer"),d=$(".apply-info"),u=$(".apply-cls"),c=($(".sub-btn"),$(".sqbtn")),l=(d.find('input[type="text"], input[type="password"], input[type="hidde"], select').not(".ignore"),$("#form")||$("form")),h=l.validate({submitHandler:function(e){return $.ajax({url:"",type:"POST",dataType:"json",data:l.serialize()}).done(function(e){}),!1},ignore:".ignore",errorClass:"err-tips",errorElement:"div",rules:{dealer:{required:!0},username:{required:!0},area:{required:!0},region:{required:!0},phone:{required:!0,verifPhone:!0},contacter:{required:!0},adds:{required:!0}},messages:{dealer:{required:$(this).attr("errorMsg")||"*商户名称不能空"},username:{required:$(this).attr("errorMsg")||"*输入正确的姓名"},area:{required:"*输入正确的所在地区"},region:{required:"*输入正确的代理区域"},phone:{required:"*输入正确的电话"},contacter:{required:"*联系人不能空"},adds:{required:"*商户所在地址不能空"}},errorPlacement:function(e,r){$(r).after(e)}});$.validator.addMethod("verifPhone",function(e,r,t){return 1==t&&/^(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/g.test(e)},"*输入正确的电话"),$("select").on("change",t).change(),c.on("click",o),a.on("resize",n).resize(),u.on("click",i)});
require(["js/module/util","js/module/applyTips","js/module/subNav"],function(n){function e(n){var e=c.find("li").eq(0).width(),t="";$(n.target).hasClass("prev")&&!C&&(C=1,t="",m.prepend(m.find("li").eq(-1)).css({"margin-left":-e}),i(t,0)),$(n.target).hasClass("next")&&!C&&(C=1,t="-",i(t,e))}function i(n,e){m.animate({"margin-left":n+e},600,function(){C=0,$(this).css({"margin-left":0}),n&&$(this).append($(this).find("li").eq(0))})}function t(){clearInterval(x)}function a(){x=setInterval(function(){i("-",m.find("li").width())},3e3)}function s(n){p.css({width:n,animation:"none"}),g.css({width:n,animation:"none"})}function o(n){var e=$(".warper"),i=$(this).height();y=[],Math.abs(n)<5?(d.find(".dot").fadeIn(),e.css({transform:"translate3d(0, "+i*n+"px, 0)"})):e.css({transform:"translate3d(0, "+(i*(n+1)-440)+"px, 0)"}),d.find(".dot li").eq(Math.abs(n)).addClass("cur").siblings().removeClass("cur")}var r,d=$(document),l=$(window),h=$(".yt-list"),c=$(".use-saller"),m=c.find("ul"),f=c.find(".prev"),u=c.find(".next"),w=$(".manage-cover"),p=$(".manage-cover-mask"),v=$(".manage-scoll"),g=v.find("p"),b=(v.find("span"),$(".best")),C=0,k=0,M=0,x=times=null,y=[];c.on("mouseenter",t).on("mouseleave",a).trigger("mouseleave"),$.fn.resetImgWidth=function(){return $(this).each(function(){function n(){var n=l.height()/l.width()>1?1:l.height()/l.width();e.css({width:i*n})}var e=$(this),i=e.width();l.on("resize",n).resize()})},"applewebkit"==navigator.userAgent.toLowerCase().match(/applewebkit/)?($("body, html").css({height:"100%",overflow:"hidden","padding-top":0}),$(".warper").css({height:"100%"}),$(".src").css({height:d.height(),overflow:"hidden"}),$(".dot").show(),$(".warper").on("webkitTransitionEnd transitionend",function(){1!=Math.abs(M)||h.hasClass("anim")?h.removeClass("anim"):h.addClass("anim"),3!=Math.abs(M)||w.hasClass("anim")?w.removeClass("anim"):w.addClass("anim"),4!=Math.abs(M)||b.hasClass("anim")?Math.abs(M)<4&&b.removeClass("anim"):b.addClass("anim")}),p.on("webkitAnimationEnd animationEnd",function(){k=1}),$("html,body").on("mousewheel",function(){var n=window.event.detail?-(window.event.detail||0)/3:window.event.wheelDelta/120;clearTimeout(times),times=setTimeout(function(){n>0&&0>=M?M++:0>n&&Math.abs(M)<5&&M--,M>0?M=0:M,o(M)},300)}),d.find(".dot li").on("click",function(){var n=$(this);M=-n.index(),o(M)}),l.on("resize",function(){var n=$(".warper"),e=l.height();n.css(Math.abs(M)<5?{transform:"translate3d(0, "+e*M+"px, 0)"}:{transform:"translate3d(0, "+(e*(M+1)-440)+"px, 0)"}),$(".src").css({height:d.height(),overflow:"hidden"})}).resize()):(v.hide(),$(".part-5").find("li").css({opacity:1})),v.find("span").on("mousedown",function(n){r=1,n.stopPropagation,d.on("mouseup",function(){r=0}),d.on("mousemove",function(n){var e=n.pageX-(l.width()-1e3)/2;r&&k&&e<=v.width()&&e>=0&&s(e)})}),window.getSelection?window.getSelection().removeAllRanges():document.selection.empty(),f.on("click",e),u.on("click",e)});
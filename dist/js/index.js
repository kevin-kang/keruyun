require(["js/module/util","js/module/applyTips","js/module/subNav"],function(i){function n(){{var i=r.width(),n=i/5;n*l.find("li").size()}c.show().find("li").css({width:n}).find("img").css({width:n}),c.find("td").css({height:c.find(".use-mask-box").height()})}function s(i){var n=l.find("li").eq(0).width(),s="";$(i.target).hasClass("prev")&&!b&&(b=1,s="",c.prepend(c.find("li").eq(-1)).css({"margin-left":-n}),e(s,0)),$(i.target).hasClass("next")&&!b&&(b=1,s="-",e(s,n))}function e(i,n){c.animate({"margin-left":i+n},600,function(){b=0,$(this).css({"margin-left":0}),i&&$(this).append($(this).find("li").eq(0))})}function t(i){w.css({width:i,animation:"none"}),g.css({width:i,animation:"none"})}function a(i){var n=$(".warper"),s=$(this).height();x=[],Math.abs(i)<5?(d.find(".dot").fadeIn(),n.css({transform:"translate3d(0, "+s*i+"px, 0)",transition:"all 1000ms cubic-bezier(0.86, 0, 0.07, 1)"})):n.css({transform:"translate3d(0, "+(s*(i+1)-440)+"px, 0)",transition:"all 1000ms cubic-bezier(0.86, 0, 0.07, 1)"}),d.find(".dot li").eq(Math.abs(i)).addClass("cur").siblings().removeClass("cur")}var o,d=$(document),r=$(window),h=$(".yt-list"),l=$(".use-saller"),c=l.find("ul"),f=l.find(".prev"),m=l.find(".next"),u=$(".manage-cover"),w=$(".manage-cover-mask"),p=$(".manage-scoll"),g=p.find("p"),v=(p.find("span"),$(".best")),b=0,C=0,k=0,z=null,x=[];r.on("resize",n).resize(),$.fn.resetImgWidth=function(){return $(this).each(function(){function i(){var i=r.height()/r.width()>1?1:r.height()/r.width();n.css({width:s*i})}var n=$(this),s=n.width();r.on("resize",i).resize()})},"applewebkit"==navigator.userAgent.toLowerCase().match(/applewebkit/)?($("body, html").css({height:"100%",overflow:"hidden","padding-top":0}),$(".warper").css({height:"100%"}),$(".src").css({height:d.height(),overflow:"hidden"}),$(".dot").show(),$(".warper").on("webkitTransitionEnd",function(){1!=Math.abs(k)||h.hasClass("anim")?h.removeClass("anim"):h.addClass("anim"),3!=Math.abs(k)||u.hasClass("anim")?u.removeClass("anim"):u.addClass("anim"),4!=Math.abs(k)||v.hasClass("anim")?Math.abs(k)<4&&v.removeClass("anim"):v.addClass("anim")}),w.on("webkitAnimationEnd",function(){C=1}),$("html,body").on("mousewheel",function(){var i=window.event.detail?-(window.event.detail||0)/3:window.event.wheelDelta/120;clearTimeout(z),z=setTimeout(function(){i>0&&0>=k?k++:0>i&&Math.abs(k)<5&&k--,k>0?k=0:k,a(k)},300)}),d.find(".dot li").on("click",function(){var i=$(this);k=-i.index(),a(k)}),r.on("resize",function(){var i=$(".warper"),n=r.height();i.css(Math.abs(k)<5?{transform:"translate3d(0, "+n*k+"px, 0)",transition:"0"}:{transform:"translate3d(0, "+(n*(k+1)-440)+"px, 0)",transition:"0"}),$(".src").css({height:d.height(),overflow:"hidden"})}).resize()):p.hide(),p.find("span").on("mousedown",function(i){o=1,d.on("mouseup",function(){o=0}),d.on("mousemove",function(i){var n=i.pageX-(r.width()-1e3)/2;o&&C&&n<=p.width()&&n>=0&&t(n)})}),f.on("click",s),m.on("click",s)});
require(["js/module/util","js/module/applyTips"],function(n){function i(){{var n=c.width(),i=n/5;i*w.find("li").size()}p.show().find("li").css({width:i}).find("img").css({width:i}),p.find("td").css({height:p.find(".use-mask-box").height()})}function s(){$(this).find(".sub-nav").length?m.addClass("anim"):e()}function e(){m.removeClass("anim")}function a(n){var i=w.find("li").eq(0).width(),s="";$(n.target).hasClass("prev")&&!q&&(q=1,s="",p.prepend(p.find("li").eq(-1)).css({"margin-left":-i}),t(s,0)),$(n.target).hasClass("next")&&!q&&(q=1,s="-",t(s,i))}function t(n,i){p.animate({"margin-left":n+i},600,function(){q=0,$(this).css({"margin-left":0}),n&&$(this).append($(this).find("li").eq(0))})}function o(n){k.css({width:n,animation:"none"}),x.css({width:n,animation:"none"})}function d(n){var i=$(".warper"),s=$(this).height();A=[],Math.abs(n)<5?(l.find(".dot").fadeIn(),i.css({transform:"translate3d(0, "+s*n+"px, 0)",transition:"all 1000ms cubic-bezier(0.86, 0, 0.07, 1)"})):i.css({transform:"translate3d(0, "+(s*(n+1)-440)+"px, 0)",transition:"all 1000ms cubic-bezier(0.86, 0, 0.07, 1)"}),l.find(".dot li").eq(Math.abs(n)).addClass("cur").siblings().removeClass("cur")}function r(){$(".mask-layer").show(),$(".apply-info").show()}var h,l=$(document),c=$(window),f=$(".nav"),m=$(".sub-nav-bg"),u=$(".yt-list"),w=$(".use-saller"),v=$(".sqbtn"),p=w.find("ul"),g=w.find(".prev"),b=w.find(".next"),C=$(".manage-cover"),k=$(".manage-cover-mask"),z=$(".manage-scoll"),x=z.find("p"),M=(z.find("span"),$(".best")),q=0,y=0,T=0,j=null,A=[];f.on("mouseenter","li",s).on("mouseleave","li",e),f.on("mouseleave",e),c.on("resize",i).resize(),$.fn.resetImgWidth=function(){return $(this).each(function(){function n(){var n=c.height()/c.width()>1?1:c.height()/c.width();i.css({width:s*n})}var i=$(this),s=i.width();c.on("resize",n).resize()})},"applewebkit"==navigator.userAgent.toLowerCase().match(/applewebkit/)?($("body, html").css({height:"100%",overflow:"hidden","padding-top":0}),$(".warper").css({height:"100%"}),$(".src").css({height:l.height(),overflow:"hidden"}),$(".dot").show(),$(".warper").on("webkitTransitionEnd",function(){1!=Math.abs(T)||u.hasClass("anim")?u.removeClass("anim"):u.addClass("anim"),3!=Math.abs(T)||C.hasClass("anim")?C.removeClass("anim"):C.addClass("anim"),4!=Math.abs(T)||M.hasClass("anim")?Math.abs(T)<4&&M.removeClass("anim"):M.addClass("anim")}),k.on("webkitAnimationEnd",function(){y=1}),$("html,body").on("mousewheel",function(){var n=window.event.detail?-(window.event.detail||0)/3:window.event.wheelDelta/120;clearTimeout(j),j=setTimeout(function(){n>0&&0>=T?T++:0>n&&Math.abs(T)<5&&T--,T>0?T=0:T,d(T)},300)}),l.find(".dot li").on("click",function(){var n=$(this);T=-n.index(),d(T)}),c.on("resize",function(){var n=$(".warper"),i=c.height();n.css(Math.abs(T)<5?{transform:"translate3d(0, "+i*T+"px, 0)",transition:"0"}:{transform:"translate3d(0, "+(i*(T+1)-440)+"px, 0)",transition:"0"}),$(".src").css({height:l.height(),overflow:"hidden"})}).resize()):z.hide(),z.find("span").on("mousedown",function(n){h=1,l.on("mouseup",function(){h=0}),l.on("mousemove",function(n){var i=n.pageX-(c.width()-1e3)/2;h&&y&&i<=z.width()&&i>=0&&o(i)})}),g.on("click",a),b.on("click",a),v.on("click",r)});
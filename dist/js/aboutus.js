require(["js/module/util","js/module/navfixed","js/module/roundabout","js/module/roundaboutshapes"],function(o){function a(){var o=u.scrollTop();o>=r&&s.navfixed(),r>o&&s.removenavfixed()}function n(){var o=$(".scroll-pic ul").find("li").size(),a="<span></span>";for($dot=$(".dot"),tmpArr=[],i=0;i<o;i++)tmpArr.push(a);$dot.html(tmpArr.join("")),$dot.find("span").eq(0).addClass("cur")}function l(){var o=$(this).find(".roundabout-in-focus").index();$dot.find("span").eq(o).addClass("cur").siblings().removeClass("cur")}var u=($(document),$(window)),s=$(".subnav"),r=s.offset().top;u.on("scroll",a).trigger("scroll"),n(),$(".scroll-pic ul").roundabout({shape:"tickingClock",minOpacity:1,minScale:.3,autoplay:!0,autoplayDuration:5e3,autoplayPauseOnHover:!0,clickToFocusCallback:l,autoplayCallback:l})});